"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var a=0,i=Array(t.length);a<t.length;a++)i[a]=t[a];return i}return Array.from(t)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t){var a="explode-wrapper";t.fn.explodeRestore=function(){this.each(function(){var i=t(this);i.show(),i.siblings().filter("."+a).remove()})},t.fn.explode=function(i){function n(t){Date.now();if(Y){var a=function(){return{v:void 0}}();if("object"===("undefined"==typeof a?"undefined":_typeof(a)))return a.v}}function e(t){function a(){var r=Date.now(),s=void 0,l=void 0;if(Y)s=(r-n)/1e3,o+=Y*s*300,l=(r-i)/w;else{if(s=(r-i)/w,s>1)return void(t&&t());s=Math.sin(s*Math.PI/2),l=s}n=r,Q.clearRect(0,0,W,F),O.forEach(function(t){var a;Q.save();var i=(t.left,t.top,t.width),n=t.height;Y?t.land||(t.biasx+=t.vx*s,t.biasy+=(t.vy+o)*s,t.biasy>t.transYMax&&(e--,t.land=!0,t.lastAngle=t.finalAngleRad*l,t.biasy=t.transYMax)):(t.biasx=t.translateX0+t.translateX*s,t.biasy=t.translateY0+t.translateY*s),Q.translate(t.biasx,t.biasy),t.lastAngle?Q.rotate(t.lastAngle):Q.rotate(t.finalAngleRad*l),P&&(Q.beginPath(),Q.arc(0,0,i/2,0,2*Math.PI,!1),Q.closePath(),Q.clip()),(a=Q).drawImage.apply(a,[D[0]].concat(_toConsumableArray(t.naturalParams),[-i/2,-n/2,i,n])),Q.restore()}),Y?e?window.requestAnimationFrame(a):t():window.requestAnimationFrame(a)}var i=Date.now(),n=i,e=O.length,o=0;O.forEach(function(t,a){t.vx=t.translateX/w*1e3,t.vy=t.translateY/w*1e3,t.biasx=t.translateX0,t.biasy=t.translateY0,t.transYMax=F/2+X-t.height/2}),a()}function o(t,a){return parseInt(Math.random()*(a+1-t),10)+t}function r(){O.forEach(function(t,a){var i=(Math.random()*x*2-x)/((Math.random()+2)*t.width)*10,n=i*(Math.PI/180),e=t.left+t.width/2-_/2,o=t.top+t.width/2-S/2;0===e&&(e=a%2?-1:1),0===o&&(o=a%4<2?-1:1);var r=Math.sqrt(e*e+o*o),s=((1-N)*(1-(t.width-h)/(q-h))+N)*Math.random();s=1-(1-s)*(1-g/u);var l=(u-r)*s+r,d=r*r,f=(l-r)*Math.sqrt((d-o*o)/d)*(e>0?1:-1),c=(l-r)*Math.sqrt((d-e*e)/d)*(o>0?1:-1),v=(W-_)/2+t.left+t.width/2,p=(F-S)/2+t.top+t.height/2,m={finalDistance:l,ratio:s,x:e,y:o,distance:r,translateX:f,translateY:c,translateX0:v,translateY0:p,finalAngleRad:n,finalAngle:i};if(Object.assign)Object.assign(t,m);else for(var a in m)t[a]=m[a]})}function s(){function t(t){function a(t){var a=n;if(n+=t,i.push({left:a,top:e,width:t,height:t}),y)for(var o=1;o<parseInt(q/t);o++)i.push({left:a,top:e+o*t,width:t,height:t})}var n=0,e=t*q,r=void 0;do r&&a(r),r=o(h,q);while(_>n+r);_-n>=h&&a(_-n)}var a=void 0;a=c?Math.floor(S/q):Math.ceil(S/q);for(var i=[],n=0;n<a;n++)t(n);return i}i&&"object"===("undefined"==typeof i?"undefined":_typeof(i))||(i={});var l=i,d=l.minWidth,h=void 0===d?3:d,f=l.omitLastLine,c=void 0!==f&&f,v=l.radius,u=void 0===v?80:v,p=l.minRadius,g=void 0===p?20:p,m=(l.release,l.recycle,l.fill),y=void 0===m||m,b=l.explodeTime,w=void 0===b?300:b,M=l.maxAngle,x=void 0===M?360:M,A=l.gravity,Y=void 0===A?0:A,I=l.round,P=void 0!==I&&I,R=l.groundDistance,X=void 0===R?400:R,j=i,q=j.maxWidth,D=this,E=arguments;D.each(function(){var a=t(this);"IMG"===a.prop("tagName")&&(a.prop("complete")||a.on("load",function(){a.explode.apply(a,E)}))});var _=D.width(),S=D.height(),k=Math.min(_,S),C=void 0;C="IMG"===D.prop("tagName")?{kind:"image",src:D.attr("src")}:{kind:"color",color:D.css("background-color")};var W=Math.max(_,2*u),F=Math.max(S,2*u,2*X);q||(q=k/4);var G=t("<div></div>",{class:a}),L=["width","height","margin-top","margin-right","margin-bottom","margin-left","position","top","right","bottom","left","float","display"];L.forEach(function(t){G.css(t,D.css(t))}),"static"===G.css("position")&&G.css("position","relative");var N=(D.css("display"),.3),O=s();r();var H=void 0,Q=void 0,T=D[0],z=T.naturalWidth,B=T.naturalHeight;H=t("<canvas></canvas>"),H.css({position:"absolute",left:-W/2,right:-W/2,top:-F/2,bottom:-F/2,margin:"auto",width:W,height:F}),H.attr({width:W,height:F}),G.append(H);var J=_/z,K=S/B;O.forEach(function(t,a){var i=t.left,n=t.top,e=t.width,o=t.height;Q=H[0].getContext("2d"),t.naturalParams=[i/J,n/K,e/J,o/K]});O.length;D.hide(),D.after(G),e(n)}}(window.jQuery);