"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var a=0,n=Array(t.length);a<t.length;a++)n[a]=t[a];return n}return Array.from(t)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t){var a="explode-wrapper";t.fn.explodeRestore=function(){this.each(function(){var n=t(this);n.show(),n.siblings().filter("."+a).remove()})},t.fn.explode=function(n){function r(t){Date.now()}function i(t){function a(){var t=Date.now(),n=(t-i)/1e3/1;i=t,e+=I*n*300,O.clearRect(0,0,S,k),L.forEach(function(t,a){var r;t.biasx+=t.vx*n,t.biasy+=(t.vy+e)*n,t.biasy>t.transYMax&&(t.land||(t.land=1,o--,t.vx=0,t.vy=0),t.biasy=t.transYMax);var i=(t.left,t.top,t.width),s=t.height;O.save(),O.translate(t.biasx,t.biasy),O.rotate(t.finalAngleRad),P&&(O.beginPath(),O.arc(0,0,i/2,0,2*Math.PI,!1),O.closePath(),O.clip()),(r=O).drawImage.apply(r,[X[0]].concat(_toConsumableArray(t.naturalParams),[-i/2,-s/2,i,s])),O.restore()}),o&&window.requestAnimationFrame(a)}function n(){var a=Date.now(),i=(a-r)/b;return i>1?void(t&&t()):(O.clearRect(0,0,S,k),i=Math.sin(i*Math.PI/2),L.forEach(function(t,a){var n,r=(t.left,t.top,t.width),o=t.height;O.save(),O.translate(t.translateX0+t.translateX*i,t.translateY0+t.translateY*i),O.rotate(t.finalAngleRad*i),(n=O).drawImage.apply(n,[X[0]].concat(_toConsumableArray(t.naturalParams),[-r/2,-o/2,r,o])),O.restore()}),void window.requestAnimationFrame(n))}var r=Date.now(),i=r,o=L.length,e=0;I?(L.forEach(function(t,a){t.vx=t.translateX/b*1e3,t.vy=t.translateY/b*1e3,t.biasx=t.translateX0,t.biasy=t.translateY0,t.transYMax=k-t.height/2}),a()):n()}function o(t,a){return parseInt(Math.random()*(a+1-t),10)+t}function e(){L.forEach(function(t,a){var n=(Math.random()*x*2-x)/((Math.random()+2)*t.width)*10,r=n*(Math.PI/180),i=t.left+t.width/2-D/2,o=t.top+t.width/2-_/2;0===i&&(i=a%2?-1:1),0===o&&(o=a%4<2?-1:1);var e=Math.sqrt(i*i+o*o),s=((1-G)*(1-(t.width-c)/(E-c))+G)*Math.random();s=1-(1-s)*(1-m/u);var l=(u-e)*s+e,h=e*e,d=(l-e)*Math.sqrt((h-o*o)/h)*(i>0?1:-1),f=(l-e)*Math.sqrt((h-i*i)/h)*(o>0?1:-1),v=(S-D)/2+t.left+t.width/2,p=(k-_)/2+t.top+t.height/2,g={finalDistance:l,ratio:s,x:i,y:o,distance:e,translateX:d,translateY:f,translateX0:v,translateY0:p,finalAngleRad:r,finalAngle:n};if(Object.assign)Object.assign(t,g);else for(var a in g)t[a]=g[a]})}function s(){function t(t){function a(t){var a=r;if(r+=t,n.push({left:a,top:i,width:t,height:t}),y)for(var o=1;o<parseInt(E/t);o++)n.push({left:a,top:i+o*t,width:t,height:t})}var r=0,i=t*E,e=void 0;do e&&a(e),e=o(c,E);while(D>r+e);D-r>=c&&a(D-r)}var a=void 0;a=f?Math.floor(_/E):Math.ceil(_/E);for(var n=[],r=0;r<a;r++)t(r);return n}n&&"object"===("undefined"==typeof n?"undefined":_typeof(n))||(n={});var l=n,h=l.minWidth,c=void 0===h?3:h,d=l.omitLastLine,f=void 0!==d&&d,v=l.radius,u=void 0===v?80:v,p=l.minRadius,m=void 0===p?20:p,g=(l.release,l.recycle,l.fill),y=void 0===g||g,w=l.explodeTime,b=void 0===w?300:w,M=l.maxAngle,x=void 0===M?360:M,A=(l.canvas,l.gravity),I=void 0===A?0:A,Y=l.round,P=void 0!==Y&&Y,R=n,E=R.maxWidth,X=this,q=arguments;X.each(function(){var a=t(this);"IMG"===a.prop("tagName")&&(a.prop("complete")||a.on("load",function(){a.explode.apply(a,q)}))});var D=X.width(),_=X.height(),j=Math.min(D,_),C=void 0;C="IMG"===X.prop("tagName")?{kind:"image",src:X.attr("src")}:{kind:"color",color:X.css("background-color")};var S=Math.max(D,2*u),k=Math.max(_,2*u);E||(E=j/4);var W=t("<div></div>",{class:a}),F=["width","height","margin-top","margin-right","margin-bottom","margin-left","position","top","right","bottom","left","float","display"];F.forEach(function(t){W.css(t,X.css(t))}),"static"===W.css("position")&&W.css("position","relative");var G=(X.css("display"),.3),L=s();e();var N=void 0,O=void 0,H=X[0],Q=H.naturalWidth,T=H.naturalHeight;N=t("<canvas></canvas>"),N.css({position:"absolute",left:-S/2,right:-S/2,top:-k/2,bottom:-k/2,margin:"auto",width:S,height:k}),N.attr({width:S,height:k}),W.append(N);var z=D/Q,B=_/T;L.forEach(function(t,a){var n=t.left,r=t.top,i=t.width,o=t.height;O=N[0].getContext("2d"),t.naturalParams=[n/z,r/B,i/z,o/B]});L.length;X.hide(),X.after(W),i(r)}}(window.jQuery);