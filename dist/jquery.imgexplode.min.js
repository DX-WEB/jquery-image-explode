"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var a=0,o=Array(t.length);a<t.length;a++)o[a]=t[a];return o}return Array.from(t)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t){t.fn.explode=function(a){function o(t){var a=Date.now();T?P&&!function(){var o=function a(){var o=Date.now(),s=(o-r)/M;return r=o,s>1?void(t&&t()):(e+=n*s,H.clearRect(0,0,j,W),s=Math.sin(s*Math.PI/2),N.forEach(function(t,a){var o,n=e,r=W-t.height/2;t.translateY0+t.translateY+e>r&&(t.land||(t.land=1,i--),n=r-t.translateY-t.translateY0);var s=(t.left,t.top,t.width),c=t.height;switch(H.save(),S.kind){case"image":H.translate(t.translateX0+t.translateX,t.translateY0+t.translateY+n),H.rotate(t.finalAngleRad),(o=H).drawImage.apply(o,[$[0]].concat(_toConsumableArray(t.naturalParams),[-s/2,-c/2,s,c]));break;case"color":}H.restore()}),n+=10*P,void(i&&window.requestAnimationFrame(a)))},n=0,e=0,r=a,i=N.length;o()}():setTimeout(function(){y&&setTimeout(function(){for(var t in N){var a=N[t];a.$dom.css("transform","")}setTimeout(function(){$.show(),z.hide()},M)},2*M)})}function n(t){switch(S.kind){case"image":t.css("background-image",'url("'+S.src+'")');break;case"color":t.css("background-color",""+S.color)}}function e(t){function a(){var n=Date.now(),e=(n-o)/M;return e>1?void(t&&t()):(H.clearRect(0,0,j,W),e=Math.sin(e*Math.PI/2),N.forEach(function(t,a){var o,n=(t.left,t.top,t.width),r=t.height;switch(H.save(),S.kind){case"image":H.translate(t.translateX0+t.translateX*e,t.translateY0+t.translateY*e),H.rotate(t.finalAngleRad*e),(o=H).drawImage.apply(o,[$[0]].concat(_toConsumableArray(t.naturalParams),[-n/2,-r/2,n,r]));break;case"color":}H.restore()}),void window.requestAnimationFrame(a))}var o=Date.now();a()}function r(t){N.forEach(function(t,a){t.$dom.css("transition",M+"ms all ease-out");var o=(t.finalDistance,t.x,t.y,t.distance,t.ratio);g&&setTimeout(function(){t.$dom.fadeOut({done:function(){t.$dom.remove(),K--,K||($.css("display",G),$.fadeIn(),z.remove())}})},3e3/o)}),z.css({"background-size":q+"px "+C+"px","background-position":"0px 0px"}),n(z),setTimeout(function(){for(var a in N){var o=N[a];o.$dom.css("transform","translate("+o.translateX+"px,"+o.translateY+"px) rotate("+o.finalAngle+"deg)")}setTimeout(function(){z.css("background-image","none"),setTimeout(function(){t&&t()},M)})},100)}function i(t,a){return parseInt(Math.random()*(a+1-t),10)+t}function s(){N.forEach(function(t,a){var o=(Math.random()*I*2-I)/((Math.random()+2)*t.width)*10,n=o*(Math.PI/180),e=t.left+t.width/2-q/2,r=t.top+t.width/2-C/2;0===e&&(e=a%2?-1:1),0===r&&(r=a%4<2?-1:1);var i=Math.sqrt(e*e+r*r),s=((1-L)*(1-t.width/D)+L)*Math.random(),c=(m-i)*s+i,l=i*i,d=(c-i)*Math.sqrt((l-r*r)/l)*(e>0?1:-1),f=(c-i)*Math.sqrt((l-e*e)/l)*(r>0?1:-1),h=(j-q)/2+t.left+t.width/2,u=(W-C)/2+t.top+t.height/2;Object.assign(t,{finalDistance:c,ratio:s,x:e,y:r,distance:i,translateX:d,translateY:f,translateX0:h,translateY0:u,finalAngleRad:n,finalAngle:o})})}function c(){function t(t){function a(t){var a=n;if(n+=t,o.push({left:a,top:e,width:t,height:t}),x)for(var r=1;r<parseInt(D/t);r++)o.push({left:a,top:e+r*t,width:t,height:t})}var n=0,e=t*D,r=void 0;do r&&a(r),r=i(f,D);while(q>n+r);q-n>=f&&a(q-n)}var a=void 0;a=u?Math.floor(C/D):Math.ceil(C/D);for(var o=[],n=0;n<a;n++)t(n);return o}a&&"object"===("undefined"==typeof a?"undefined":_typeof(a))||(a={});var l=a,d=l.minWidth,f=void 0===d?3:d,h=l.omitLastLine,u=void 0!==h&&h,p=l.radius,m=void 0===p?8:p,v=l.release,g=void 0===v||v,w=l.recycle,y=void 0===w||w,b=l.fill,x=void 0===b||b,k=l.explodeTime,M=void 0===k?300:k,A=l.maxAngle,I=void 0===A?360:A,Y=l.canvas,T=void 0===Y||Y,E=l.gravity,P=void 0!==E&&E,X=a,D=X.maxWidth,$=this,_=arguments;$.each(function(){var a=t(this);"IMG"===a.prop("tagName")&&(a.prop("complete")||a.on("load",function(){a.explode.apply(a,_)}))});var q=$.width(),C=$.height(),R=Math.min(q,C),S=void 0;S="IMG"===$.prop("tagName")?{kind:"image",src:$.attr("src")}:{kind:"color",color:$.css("background-color")};var j=Math.max(q,2*m),W=Math.max(C,2*m);D||(D=R/4);var z=t("<div></div>",{class:"explode-wrapper"}),F=["width","height","margin-top","margin-right","margin-bottom","margin-left","position","top","right","bottom","left","float","display"];F.forEach(function(t){z.css(t,$.css(t))}),"static"===z.css("position")&&z.css("position","relative");var G=$.css("display"),L=.3,N=c();s();var O=void 0,H=void 0,Q=$[0],B=Q.naturalWidth,J=Q.naturalHeight;T?!function(){O=t("<canvas></canvas>"),O.css({position:"absolute",left:-j/2,right:-j/2,top:-W/2,bottom:-W/2,margin:"auto",width:j,height:W}),O.attr({width:j,height:W}),z.append(O);var a=q/B,o=C/J;N.forEach(function(t,n){var e,r=t.left,i=t.top,s=t.width,c=t.height;switch(H=O[0].getContext("2d"),t.naturalParams=[r/a,i/o,s/a,c/o],S.kind){case"image":(e=H).drawImage.apply(e,[$[0]].concat(_toConsumableArray(t.naturalParams),[(j-q)/2+r,(W-C)/2+i,s,c]));break;case"color":}})}():N.forEach(function(a){var o=t("<div></div>",{}),e=a.left,r=a.top,i=a.width;o.css({width:i,height:i,position:"absolute",left:e,top:r,"background-repeat":"no-repeat","background-size":q+"px "+C+"px","background-position":-e+"px "+-r+"px"}),n(o),a.$dom=o,z.append(o)});var K=N.length;$.hide(),$.after(z),T?e(o):r(o)}}(window.jQuery);