"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var a=0,i=Array(t.length);a<t.length;a++)i[a]=t[a];return i}return Array.from(t)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t){var a="explode-wrapper";t.fn.explodeRestore=function(){this.each(function(){var i=t(this);i.show(),i.siblings().filter("."+a).remove()})},t.fn.explode=function(i){function n(t){Date.now();if(I){var a=function(){return{v:void 0}}();if("object"===("undefined"==typeof a?"undefined":_typeof(a)))return a.v}}function o(t){function a(){var r=Date.now(),s=void 0,l=void 0;if(s=(r-n)/1e3,l=(r-i)/w,I)e+=I*s*300;else{if(l>1)return void(t&&t());s*=Math.cos(l*Math.PI/2)*Math.PI/2}n=r,Q.clearRect(0,0,W,G),F.forEach(function(t){var a;Q.save();var i=(t.left,t.top,t.width),n=t.height;t.land||(t.biasx+=t.vx*s,t.biasy+=(t.vy+e)*s,I&&t.biasy>t.transYMax&&(o--,t.land=!0,t.lastAngle=t.finalAngleRad*l,t.biasy=t.transYMax)),Q.translate(t.biasx,t.biasy),t.lastAngle?Q.rotate(t.lastAngle):Q.rotate(t.finalAngleRad*l),Y&&(Q.beginPath(),Q.arc(0,0,i/2,0,2*Math.PI,!1),Q.closePath(),Q.clip()),(a=Q).drawImage.apply(a,[_[0]].concat(_toConsumableArray(t.naturalParams),[-i/2,-n/2,i,n])),Q.restore()}),I&&!o?t():window.requestAnimationFrame(a)}var i=Date.now(),n=i,o=F.length,e=0;F.forEach(function(t,a){t.vx=t.translateX/w*1e3,t.vy=t.translateY/w*1e3,t.biasx=t.translateX0,t.biasy=t.translateY0,t.transYMax=G/2+j-t.height/2}),a()}function e(t,a){return parseInt(Math.random()*(a+1-t),10)+t}function r(){F.forEach(function(t,a){var i=(Math.random()*x*2-x)/((Math.random()+2)*t.width)*10,n=i*(Math.PI/180),o=t.left+t.width/2-S/2,e=t.top+t.width/2-X/2;0===o&&(o=a%2?-1:1),0===e&&(e=a%4<2?-1:1);var r=Math.sqrt(o*o+e*e),s=((1-O)*(1-(t.width-d)/(E-d))+O)*Math.random();s=1-(1-s)*(1-g/u);var l=(u-r)*s+r,h=r*r,f=(l-r)*Math.sqrt((h-e*e)/h)*(o>0?1:-1),c=(l-r)*Math.sqrt((h-o*o)/h)*(e>0?1:-1),v=(W-S)/2+t.left+t.width/2,p=(G-X)/2+t.top+t.height/2,m={finalDistance:l,ratio:s,x:o,y:e,distance:r,translateX:f,translateY:c,translateX0:v,translateY0:p,finalAngleRad:n,finalAngle:i};if(Object.assign)Object.assign(t,m);else for(var a in m)t[a]=m[a]})}function s(){function t(t){function a(t){var a=n;if(n+=t,i.push({left:a,top:o,width:t,height:t}),y)for(var e=1;e<parseInt(E/t);e++)i.push({left:a,top:o+e*t,width:t,height:t})}var n=0,o=t*E,r=void 0;do r&&a(r),r=e(d,E);while(S>n+r);S-n>=d&&a(S-n)}var a=void 0;a=c?Math.floor(X/E):Math.ceil(X/E);for(var i=[],n=0;n<a;n++)t(n);return i}i&&"object"===("undefined"==typeof i?"undefined":_typeof(i))||(i={});var l=i,h=l.minWidth,d=void 0===h?3:h,f=l.omitLastLine,c=void 0!==f&&f,v=l.radius,u=void 0===v?80:v,p=l.minRadius,g=void 0===p?20:p,m=(l.release,l.recycle,l.fill),y=void 0===m||m,b=l.explodeTime,w=void 0===b?300:b,M=l.maxAngle,x=void 0===M?360:M,A=l.gravity,I=void 0===A?0:A,P=l.round,Y=void 0!==P&&P,R=l.groundDistance,j=void 0===R?400:R,D=i,E=D.maxWidth,_=this,q=arguments;_.each(function(){var a=t(this);"IMG"===a.prop("tagName")&&(a.prop("complete")||a.on("load",function(){a.explode.apply(a,q)}))});var S=_.width(),X=_.height(),k=Math.min(S,X),C=void 0;C="IMG"===_.prop("tagName")?{kind:"image",src:_.attr("src")}:{kind:"color",color:_.css("background-color")};var W=Math.max(S,2*u),G=Math.max(X,2*u,2*j);E||(E=k/4);var L=t("<div></div>",{class:a}),N=["width","height","margin-top","margin-right","margin-bottom","margin-left","position","top","right","bottom","left","float","display"];N.forEach(function(t){L.css(t,_.css(t))}),"static"===L.css("position")&&L.css("position","relative");var O=(_.css("display"),.3),F=s();r();var H=void 0,Q=void 0,T=_[0],z=T.naturalWidth,B=T.naturalHeight;H=t("<canvas></canvas>"),H.css({position:"absolute",left:-W/2,right:-W/2,top:-G/2,bottom:-G/2,margin:"auto",width:W,height:G}),H.attr({width:W,height:G}),L.append(H);var J=S/z,K=X/B;F.forEach(function(t,a){var i=t.left,n=t.top,o=t.width,e=t.height;Q=H[0].getContext("2d"),t.naturalParams=[i/J,n/K,o/J,e/K]});F.length;_.hide(),_.after(L),o(n)}}(window.jQuery);