"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol?"symbol":typeof o};!function(o){o.fn.explode=function(t){function i(o,t){return parseInt(Math.random()*(t+1-o),10)+o}function n(){function o(o){function t(o){var t=a;if(a+=o,e.push({left:t,top:r,width:o}),g)for(var i=1;i<parseInt(M/o);i++)e.push({left:t,top:r+i*o,width:o})}var a=0,r=o*M;do n&&t(n),n=i(s,M);while(I>a+n);I-a>=s&&t(I-a)}var t=void 0;t=d?Math.floor(S/M):Math.ceil(S/M);for(var n=void 0,e=[],a=0;a<t;a++)o(a);return e}function e(o){switch(A.kind){case"image":o.css("background-image",'url("'+A.src+'")');break;case"color":o.css("background-color",""+A.color)}}t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))||(t={});var a=t,r=a.minWidth,s=void 0===r?3:r,c=a.omitLastLine,d=void 0!==c&&c,f=a.radius,p=void 0===f?8:f,l=a.release,u=void 0===l||l,m=a.recycle,h=void 0===m||m,v=a.fill,g=void 0===v||v,b=a.explodeTime,y=void 0===b?300:b,w=a.maxAngle,x=void 0===w?360:w,k=t,M=k.maxWidth,T=this,$=arguments;T.each(function(){var t=o(this);"IMG"===t.prop("tagName")&&(t.prop("complete")||t.on("load",function(){t.explode.apply(t,$)}))});var I=T.width(),S=T.height(),q=Math.min(I,S),A=void 0;A="IMG"===T.prop("tagName")?{kind:"image",src:T.attr("src")}:{kind:"color",color:T.css("background-color")},M||(M=q/4);var E=o("<div></div>",{class:"explode-wrapper"}),j=["width","height","margin-top","margin-right","margin-bottom","margin-left","position","top","right","bottom","left","float","display"];j.forEach(function(o){E.css(o,T.css(o))}),"static"===E.css("position")&&E.css("position","relative");var z=T.css("display"),G=n();G.forEach(function(t){var i=o("<div></div>",{}),n=t.left,a=t.top,r=t.width;i.css({width:r,height:r,position:"absolute",left:n,top:a,"background-repeat":"no-repeat","background-size":I+"px "+S+"px","background-position":-n+"px "+-a+"px"}),e(i),t.$dom=i,E.append(i)});var L=G.length;G.forEach(function(o,t){o.$dom.css("transition",y+"ms all ease-out"),o.finalAngle=(Math.random()*x*2-x)/((Math.random()+2)*o.width)*10;var i=o.left+o.width/2-I/2,n=o.top+o.width/2-S/2;0===i&&(i=t%2?-1:1),0===n&&(n=t%4<2?-1:1);var e=Math.sqrt(i*i+n*n),a=.3,r=((1-a)*(1-o.width/M)+a)*Math.random(),s=(p-e)*r+e,c=e*e;o.translateX=(s-e)*Math.sqrt((c-n*n)/c)*(i>0?1:-1),o.translateY=(s-e)*Math.sqrt((c-i*i)/c)*(n>0?1:-1),u&&setTimeout(function(){o.$dom.fadeOut({done:function(){o.$dom.remove(),L--,L||(T.css("display",z),T.fadeIn(),E.remove())}})},3e3/r)}),T.hide(),T.after(E),E.css({"background-size":I+"px "+S+"px","background-position":"0px 0px"}),e(E),setTimeout(function(){for(var o in G){var t=G[o];t.$dom.css("transform","translate("+t.translateX+"px,"+t.translateY+"px) rotate("+t.finalAngle+"deg)")}setTimeout(function(){E.css("background-image","none"),h&&setTimeout(function(){for(var o in G){var t=G[o];t.$dom.css("transform","")}setTimeout(function(){T.show(),E.hide()},y)},2*y)})},100)}}(window.jQuery);